<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; font-size: 12px; }
        h1 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { border: 1px solid #444; padding: 6px; text-align: left; }
        th { background: #f0f0f0; }
    </style>
</head>

<body>

<h1>Relatório Financeiro – {{ mes }}/{{ ano }}</h1>
<hr>

<h2>Resumo Geral</h2>
<p><strong>Total de Receitas:</strong> R$ {{ stats.receitas }}</p>
<p><strong>Total de Despesas:</strong> R$ {{ stats.despesas }}</p>
<p><strong>Saldo:</strong> R$ {{ stats.saldo }}</p>

<h2>Receitas</h2>
<table>
    <thead>
        <tr>
            <th>Descrição</th>
            <th>Valor (R$)</th>
            <th>Data</th>
            <th>Origem</th>
        </tr>
    </thead>
    <tbody>
        {% for r in incomes %}
        <tr>
            <td>{{ r.descricao }}</td>
            <td>{{ r.valor }}</td>
            <td>{{ r.data|date:"d/m/Y" }}</td>
            <td>{{ r.origem }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="4">Nenhuma receita.</td></tr>
        {% endfor %}
    </tbody>
</table>

<h2>Despesas</h2>
<table>
    <thead>
        <tr>
            <th>Categoria</th>
            <th>Descrição</th>
            <th>Valor (R$)</th>
            <th>Data</th>
        </tr>
    </thead>
    <tbody>
        {% for d in expenses %}
        <tr>
            <td>{{ d.categoria }}</td>
            <td>{{ d.descricao }}</td>
            <td>{{ d.valor }}</td>
            <td>{{ d.data|date:"d/m/Y" }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="4">Nenhuma despesa.</td></tr>
        {% endfor %}
    </tbody>
</table>

</body>
</html>

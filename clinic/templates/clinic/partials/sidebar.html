{% load static %}

<!-- DEBUG -->
<p style="color:white; font-size:14px;">
    DEBUG: Nome clínica = {{ clinica_config.nome_clinica }}
</p>


<aside id="sidebar" class="sidebar">

<div class="sidebar-header">

   {% if clinica_config and clinica_config.logo and clinica_config.logo.name %}
        <!-- LOGO PERSONALIZADO -->
        <img src="{{ clinica_config.logo.url }}" 
             class="sidebar-logo"
             style="width:55px; height:55px; object-fit:contain;">
    {% else %}
        <!-- LOGO PADRÃO -->
        <img src="{% static 'img/logo_odontoIA.png' %}"
             class="sidebar-logo"
             style="width:55px; height:55px; object-fit:contain;">
    {% endif %}

    <!-- NOME DA CLÍNICA OU “OdontoIA” COMO FALLBACK -->
    <span class="sidebar-title">
        {% if clinica_config and clinica_config.nome_clinica %}
            {{ clinica_config.nome_clinica }}
        {% else %}
            OdontoIA
        {% endif %}
    </span>

</div>


    <nav class="sidebar-menu">
            <a href="{% url 'clinic:dashboard' %}"
            class="menu-item {% if request.path == '/dashboard/' %}active{% endif %}">
            <i class="bi bi-speedometer2"></i> Dashboard
        </a>

        <div class="menu-group-title">Cadastros</div>

        <a href="{% url 'clinic:pacientes_list' %}" class="menu-item">
            <i class="bi bi-people"></i> Pacientes
        </a>

        <a href="{% url 'clinic:procedimentos_list' %}" class="menu-item">
            <i class="bi bi-tools"></i> Procedimentos
        </a>

        {% if assinatura and assinatura.tipo in 'profissional premium' %}
        <a href="{% url 'clinic:dentistas_list' %}" class="menu-item">
            <i class="bi bi-person-badge"></i> Dentistas
        </a>
        {% endif %}

        <div class="menu-group-title">Atendimentos</div>

        <a href="{% url 'clinic:consultas_list' %}" class="menu-item">
            <i class="bi bi-journal-text"></i> Consultas
        </a>

        <a href="{% url 'clinic:consultas_calendar' %}" class="menu-item">
            <i class="bi bi-calendar-event"></i> Agenda
        </a>

        {% if assinatura and assinatura.tipo in 'profissional premium' %}
        <div class="menu-group-title">Financeiro</div>

        <a href="{% url 'clinic:financeiro_dashboard' %}"
            class="menu-item {% if '/financeiro/dashboard/' in request.path %}active{% endif %}">
            <i class="bi bi-speedometer"></i> Dashboard Financeiro
        </a>

        <a href="{% url 'clinic:receitas_list' %}" class="menu-item">
            <i class="bi bi-currency-dollar"></i> Receitas
        </a>

        <a href="{% url 'clinic:despesas_list' %}" class="menu-item">
            <i class="bi bi-receipt"></i> Despesas
        </a>

        <a href="{% url 'clinic:financeiro_resumo' %}" class="menu-item">
            <i class="bi bi-graph-up"></i> Resumo Financeiro
        </a>
        {% endif %}

        {% if assinatura and assinatura.tipo == 'premium' %}
        <div class="menu-group-title">Inteligência</div>
        <a href="{% url 'clinic:ia_insights' %}" class="menu-item">
            <i class="bi bi-lightbulb"></i> IA & Insights
        </a>
        {% endif %}

        {% if assinatura and assinatura.tipo == "premium" %}
        <div class="menu-group-title">Configurações</div>
        <a class="menu-item" href="{% url 'clinic:clinica_config' %}">
            <i class="bi bi-gear"></i> Configurações da Clínica</a>
       
        {% endif %}

        <div class="menu-group-title">Conta</div>
        <a href="{% url 'clinic:logout' %}" class="menu-item logout">
            <i class="bi bi-box-arrow-right"></i> Sair
        </a>

    </nav>

</aside>